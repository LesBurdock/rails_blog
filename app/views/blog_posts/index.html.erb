<%= render partial: "shared/navbar" %>
<div class="py-24 ">
<div class="mt-24 px-4 md:px-0">
<h2 class="mt-24 font-Ubuntu m-12 text-center text-veryDarkBlue text-2xl md:text-4xl z-10">
    Recent Posts from the Community
  </h2>
  <div class="grid grid-cols-1 md:grid-cols-[minmax(2rem,1fr)_minmax(0,60rem)_minmax(0,40rem)_minmax(2rem,1fr)] gap-6">

    <!-- Left spacer -->
    <div class="hidden md:block"></div>

    <!-- Featured Post -->
    <% latest_post = @blog_posts.order(created_at: :desc).first %>
    <% if latest_post.photo.attached? %>
      <div class="md:col-start-2 md:col-span-1 flex flex-col gap-4">
        <%= link_to latest_post do %>
          <div class="flex flex-col">
            <%= image_tag latest_post.photo, class: "w-full h-68 object-cover rounded-md" %>
            <h3 class="font-Ubuntu text-2xl mt-2 text-veryDarkBlue"><%= latest_post.title %></h3>
            <p class="font-light text-gray-700 mt-1"><%= truncate(latest_post.content, length: 150) %></p>
          </div>
        <% end %>
      </div>
    <% end %>

    <!-- Right column: 3 smaller posts -->
    <div class="md:col-start-3 md:col-span-1 flex flex-col gap-4">
      <% @blog_posts.offset(1).limit(3).each do |post| %>
        <% next unless post.photo.attached? %>
        <%= link_to post do %>
          <div class="flex flex-col sm:flex-row items-start sm:items-center gap-4">
            <%= image_tag post.photo, class: "w-full sm:w-24 h-24 sm:h-24 object-cover rounded-md flex-shrink-0" %>
            <div class="flex-1">
              <h4 class="font-Ubuntu text-lg text-veryDarkBlue"><%= post.title %></h4>
              <p class="font-light text-gray-700"><%= truncate(post.content, length: 80) %></p>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>

    <!-- Right spacer -->
    <div class="hidden md:block"></div>
  </div>
</div>
  <h2 class="mt-24 font-Ubuntu m-8 text-center text-veryDarkBlue text-2xl md:text-4xl z-10">
    Stronger for the Future
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-[minmax(2rem,1fr)_minmax(0,26rem)_minmax(0,26rem)_minmax(0,26rem)_minmax(2rem,1fr)] 
              gap-6 px-4 md:px-0 mb-24">

    <!-- Tabs Wrapper (center columns) -->
    <div class="md:col-start-2 md:col-span-3 bg-white rounded-lg px-6">
      <div class="flex justify-center">

        <!-- Mobile row | Desktop row -->
        <div class="flex flex-row md:flex-row gap-4 pb-4">

          <!-- Nutrition -->
          <button 
            class="tab-button btn btn-primary focus:outline-none transition-colors duration-200"
            data-tab="nutrition">
            <span class="md:hidden text-2xl"><%= image_tag('poke-bowl.svg')%></span>
            <span class="hidden md:inline">Nutrition</span>
          </button>

          <!-- Cardio -->
          <button 
            class="tab-button btn btn-primary focus:outline-none transition-colors duration-200"
            data-tab="cardio">
            <span class="md:hidden text-2xl">üèÉ‚Äç‚ôÇÔ∏è</span>
            <span class="hidden md:inline">Cardio</span>
          </button>

          <!-- Strength -->
          <button 
            class="tab-button btn btn-primary focus:outline-none transition-colors duration-200"
            data-tab="strength">
            <span class="md:hidden text-2xl">üí™</span>
            <span class="hidden md:inline">Strength</span>
          </button>

        </div>
      </div>
    </div>

    <!-- TAB CONTENT WRAPPER (IMPORTANT: inside same grid and same column span) -->
    <div class="md:col-start-2 md:col-span-3 mt-6 space-y-6">

      <!-- Nutrition Tab -->
      <div id="nutrition" class="tab-content relative overflow-hidden">
        <div class="border border-gray-200 rounded-md overflow-hidden p-6">
          <div class="grid grid-cols-1 md:grid-cols-2">

            <div class="w-full h-full">
              <%= image_tag('nutrition_eating.png', class: "w-full h-full object-cover") %>
            </div>

            <div class="p-8 text-white bg-veryDarkGrayBlue flex flex-col justify-center">
              <h3 class="text-2xl font-semibold mb-4">Nutrition Essentials</h3>
              <p class="text-gray-200 text-sm leading-relaxed">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod nisl vel tincidunt fermentum.
              </p>
            </div>

          </div>
        </div>
      </div>

      <!-- Cardio Tab -->
      <div id="cardio" class="tab-content hidden relative overflow-hidden">
        <div class="border border-gray-200 rounded-lg grid grid-cols-1 md:grid-cols-2 overflow-hidden p-6">

          <div class="w-full h-full">
            <%= image_tag('cardio.png', class: "w-full h-full object-cover") %>
          </div>

          <div class="p-8 text-white bg-blue500 flex flex-col justify-center">
            <h3 class="text-2xl font-semibold mb-4">Cardio Training</h3>
            <p class="text-gray-200 text-sm leading-relaxed">
              Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi.
            </p>
          </div>

        </div>
      </div>

      <!-- Strength Tab -->
      <div id="strength" class="tab-content hidden relative overflow-hidden">
        <div class="border border-gray-200 rounded-lg grid grid-cols-1 md:grid-cols-2 overflow-hidden p-6">

          <div class="w-full h-full">
            <%= image_tag('strength.png', class: "w-full h-full object-cover") %>
          </div>

          <div class="p-8 text-white bg-veryLightGray flex flex-col justify-center">
            <h3 class="text-2xl font-semibold mb-4">Strength Workouts</h3>
            <p class="text-gray-200 text-sm leading-relaxed">
              Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore.
            </p>
          </div>

        </div>
      </div>

    </div> <!-- END TAB CONTENT WRAPPER -->

  </div> <!-- END GRID -->
</div>
</div>
